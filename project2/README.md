# 数字水印系统技术报告

## 1. 项目概述
本项目实现了一个基于DCT变换的数字水印系统，能够在图像中嵌入和提取文本水印信息，并测试水印对各种图像攻击的鲁棒性。

## 2. 技术原理

### 2.1 DCT变换
- 使用8×8分块的二维离散余弦变换(DCT)
- 选择中频系数(默认(5,5)位置)进行水印嵌入
- 水印信息通过修改DCT系数值实现嵌入

### 2.2 水印嵌入原理
1. **预处理**：
   - 将图像转换为YCrCb色彩空间，仅对亮度(Y)通道处理
   - 图像填充至8×8的整数倍大小

2. **嵌入过程**：
   - 对每个8×8块进行DCT变换
   - 根据水印位(0/1)调整选定频带系数：
     - 1：系数增大(1+α)倍
     - 0：系数减小(1-α)倍
   - 进行逆DCT变换重构图像

### 2.3 水印提取原理
1. 对原始图像和水印图像分别进行相同处理
2. 比较对应DCT系数的相对大小：
   - 水印系数 > 原始系数 → 提取1
   - 水印系数 ≤ 原始系数 → 提取0

## 3. 系统架构

### 3.1 核心组件
- **图像预处理模块**：处理图像尺寸和色彩空间转换
- **DCT变换模块**：实现分块DCT/IDCT变换
- **水印编解码模块**：文本与二进制位的相互转换
- **攻击模拟模块**：模拟各种图像处理攻击
- **可视化模块**：结果对比和性能评估

### 3.2 关键参数
- `alpha`：水印强度系数(默认0.1)
- `block_size`：DCT块大小(固定8)
- `frequency_band`：水印嵌入频带(默认(5,5))

## 4. 工作流程

### 4.1 水印嵌入流程
1. 输入原始图像和文本水印
2. 将文本转换为二进制序列
3. 对图像Y通道进行分块DCT处理
4. 按水印位修改DCT系数
5. 逆变换重构图像并保存

### 4.2 水印提取流程
1. 输入水印图像和原始图像
2. 分别提取Y通道并进行分块DCT
3. 比较对应DCT系数差异
4. 将二进制序列转换为文本

### 4.3 鲁棒性测试流程
1. 对水印图像施加各类攻击
2. 从攻击后图像提取水印
3. 计算提取准确率
4. 生成可视化报告

## 5. 支持的攻击类型

| 攻击类型 | 实现方式 | 影响程度 |
|---------|---------|---------|
| 翻转 | 水平+垂直翻转 | 几何变换 |
| 平移 | 20px水平+15px垂直位移 | 几何变换 |
| 裁剪 | 移除25%图像内容 | 信息丢失 |
| 对比度 | Gamma校正(γ=0.3) | 亮度变化 |
| 噪声 | 高斯噪声(var=0.05) | 随机干扰 |
| JPEG压缩 | 质量因子30 | 有损压缩 |

## 6. 性能评估

### 6.1 评估指标
- **PSNR**：峰值信噪比，评估水印不可见性
- **提取准确率**：比特正确率，评估鲁棒性

### 6.2 可视化输出
系统自动生成包含以下内容的综合报告图：
1. 原始图像与水印图像对比
2. 各攻击处理后的图像效果
3. 水印信息和PSNR值
4. 各攻击下的提取准确率

## 7.测试结果

![image](https://github.com/sdu-ztmy/innovation-entrepreneurship-course-/blob/main/project2/watermark_robustness_results.png)
